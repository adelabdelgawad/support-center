# =============================================================================
# Backend Application Configuration (Example/Template)
# =============================================================================
# Copy this file to .env and update with your actual values
# Never commit .env files with real credentials to version control
#
# IMPORTANT: This template is for LOCAL DEVELOPMENT
# For Docker deployment, use docker/env/.env.backend
#
# Variable naming follows config.py Pydantic Settings prefixes:
#   DATABASE_, REDIS_, SECURITY_, API_, CORS_, UPLOAD_, EMAIL_,
#   WS_, PERFORMANCE_, MONITORING_, LOG_, AD_, MINIO_, CELERY_, TURN_


# =============================================================================
# DATABASE (prefix: DATABASE_) - REQUIRED
# =============================================================================
# LOCAL DEV: Use localhost:5433 (Docker postgres exposed port)
# DOCKER: Use postgres:5432 (container name)
DATABASE_URL=postgresql+asyncpg://servicecatalog:CHANGE_ME@localhost:5433/servicecatalog
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600


# =============================================================================
# REDIS (prefix: REDIS_) - REQUIRED
# =============================================================================
# LOCAL DEV: Use localhost:6380 (Docker redis exposed port)
# DOCKER: Use redis:6379 (container name)
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@localhost:6380/0
REDIS_MAX_CONNECTIONS=50


# =============================================================================
# SECURITY (prefix: SECURITY_) - REQUIRED
# =============================================================================
# Generate secure keys using: openssl rand -hex 32
SECURITY_SECRET_KEY=CHANGE_ME_USE_OPENSSL_RAND_HEX_32
SECURITY_JWT_SECRET_KEY=CHANGE_ME_USE_OPENSSL_RAND_HEX_32
SECURITY_ALGORITHM=HS256
SECURITY_JWT_ISSUER=service-catalog
SECURITY_JWT_AUDIENCE=it-service-catalog
# Session settings
SECURITY_SESSION_ACCESS_TOKEN_MINUTES=15
SECURITY_SESSION_REFRESH_LIFETIME_DAYS=30
SECURITY_SESSION_MAX_CONCURRENT=5


# =============================================================================
# APPLICATION (prefix: API_)
# =============================================================================
API_APP_NAME=Service Catalog
API_APP_VERSION=1.0.0
API_DEBUG=false
API_API_V1_PREFIX=/api/v1


# =============================================================================
# CORS (prefix: CORS_)
# =============================================================================
# JSON array of allowed origins - update with your frontend URLs
# Include: Next.js frontend (3010), Tauri desktop app (1420), production URLs
CORS_ORIGINS=["http://localhost:3010","http://localhost:1420","tauri://localhost","http://tauri.localhost"]


# =============================================================================
# FILE UPLOAD (prefix: UPLOAD_)
# =============================================================================
UPLOAD_MAX_UPLOAD_SIZE=52428800
UPLOAD_UPLOAD_DIR=./uploads
UPLOAD_ALLOWED_EXTENSIONS=["jpg","jpeg","png","gif","pdf","doc","docx","txt","log","zip"]


# =============================================================================
# WEBSOCKET (prefix: WS_)
# =============================================================================
WS_HEARTBEAT_INTERVAL=30
WS_MESSAGE_QUEUE_SIZE=1000
WS_USE_REDIS_PUBSUB=true


# =============================================================================
# PERFORMANCE (prefix: PERFORMANCE_)
# =============================================================================
PERFORMANCE_QUERY_CACHE_SIZE=1000
PERFORMANCE_ENABLE_QUERY_LOGGING=false


# =============================================================================
# MONITORING (prefix: MONITORING_)
# =============================================================================
MONITORING_ENABLE_METRICS=true
MONITORING_METRICS_PORT=9090


# =============================================================================
# LOGGING (prefix: LOG_)
# =============================================================================
LOG_LEVEL=INFO


# =============================================================================
# MINIO OBJECT STORAGE (prefix: MINIO_) - REQUIRED
# =============================================================================
# LOCAL DEV: Use localhost:9000 (Docker MinIO exposed port)
# DOCKER: Use minio:9000 (container name)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=CHANGE_ME_MINIO_ACCESS_KEY
MINIO_SECRET_KEY=CHANGE_ME_MINIO_SECRET_KEY
MINIO_BUCKET_NAME=servicecatalog-files
MINIO_SECURE=false
MINIO_REGION=us-east-1
MINIO_PRESIGNED_URL_EXPIRY_SECONDS=3600
MINIO_PRESIGNED_URL_EXPIRY_DOWNLOAD=86400
MINIO_MAX_FILE_SIZE_MB=50


# =============================================================================
# CELERY (prefix: CELERY_) - REQUIRED
# =============================================================================
# Should match REDIS_URL or use separate Redis instance
CELERY_BROKER_URL=redis://:CHANGE_ME_REDIS_PASSWORD@localhost:6380/0
CELERY_RESULT_BACKEND=redis://:CHANGE_ME_REDIS_PASSWORD@localhost:6380/1



# =============================================================================
# TURN SERVER (prefix: TURN_) - OPTIONAL (for WebRTC remote access)
# =============================================================================
TURN_ENABLED=true
TURN_URLS=turn:your-server.com:3478,turn:your-server.com:3478?transport=tcp
TURN_USERNAME=servicecatalog
TURN_CREDENTIAL=CHANGE_ME_TURN_CREDENTIAL
TURN_SECRET=CHANGE_ME_USE_OPENSSL_RAND_HEX_32
TURN_TTL=86400


# =============================================================================
# ZAPIER/WHATSAPP INTEGRATION (prefix: ZAPIER_) - OPTIONAL
# =============================================================================
ZAPIER_BASE_URL=https://hooks.zapier.com/hooks/catch/YOUR_HOOK_ID/
ZAPIER_SEND_TYPE=Group
FRONTEND_BASE_URL=http://localhost:3010


# =============================================================================
# ADMIN USER SETUP (used at first startup only) - DEV ONLY
# =============================================================================
# IMPORTANT: Change these credentials immediately after first deployment
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD
ADMIN_EMAIL=admin@example.com
ADMIN_FULL_NAME=System Administrator
